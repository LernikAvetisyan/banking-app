<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wallet Dashboard</title>
  <!-- Link to wallet-specific CSS -->
  <link rel="stylesheet" href="../css/wallet.css">
</head>
<body>
  <!-- Main Wallet Section -->
  <div class="dashboard-content">
    <h1>Wallets</h1>
    
    <!-- Container where wallet cards will be injected dynamically -->
    <div id="wallet-list" class="wallet-list">
      <!-- A "No wallets available" message will display if none exist -->
    </div>

    <!-- Action Buttons -->
    <div class="wallet-actions">
      <button id="addWalletBtn">Add Wallet</button>
      <button id="createWalletBtn">Create Wallet</button>
    </div>
  </div>

  <!-- Modal for Creating a Wallet (Auto‑Generated Details) -->
  <div id="createWalletModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeCreateModal">&times;</span>
      <h2>Create Wallet</h2>
      <form id="createWalletForm">
        <label for="cardType">Select Card Type:</label>
        <select id="cardType" name="cardType" required>
          <option value="">--Select--</option>
          <option value="Visa">Visa</option>
          <option value="Master">Master</option>
        </select>
        <button type="submit">Create</button>
      </form>
    </div>
  </div>

  <!-- Modal for Adding a Wallet Manually -->
  <div id="addWalletModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeAddModal">&times;</span>
      <h2>Add Wallet</h2>
      <form id="addWalletForm">
        <!-- Card Type -->
        <label for="cardTypeAdd">Card Type:</label>
        <select id="cardTypeAdd" name="cardType" required>
          <option value="">--Select--</option>
          <option value="Visa">Visa</option>
          <option value="Master">Master</option>
        </select>
        
        <!-- Card Number (auto‑formats into groups of 4 digits) -->
        <label for="cardNumber">Card Number:</label>
        <!-- maxlength="19": 16 digits plus up to 3 spaces -->
        <input type="text" id="cardNumber" name="cardNumber" maxlength="19" placeholder="Enter 16 digits" required>
        <!-- Error message element for card number (added for duplicate checking) -->
        <small id="cardNumberError" style="color: red;"></small>
        
        <!-- Cardholder Name (letters only) -->
        <label for="cardHolderName">Cardholder Name:</label>
        <input type="text" id="cardHolderName" name="cardHolderName" placeholder="Letters only" required>
        
        <!-- Expiration Date (MM/YY) with separate inputs -->
        <label>Expiration Date (MM/YY):</label>
        <div class="expiration-date">
          <!-- MM: Only digits allowed, exactly 2 characters, and must be between 01 and 12 -->
          <input type="text" id="expirationMonth" name="expirationMonth" placeholder="MM (01-12)" maxlength="2" required>
          <!-- YY: Only digits allowed, exactly 2 characters, and must be 25 or greater -->
          <input type="text" id="expirationYear" name="expirationYear" placeholder="YY (>=25)" maxlength="2" required>
        </div>
        
        <!-- Security Code (CVV): Only digits, exactly 3 characters -->
        <label for="cvv">Security Code (CVV):</label>
        <input type="text" id="cvv" name="cvv" maxlength="3" placeholder="3-digit code" required>
        
        <button type="submit">Add Wallet</button>
      </form>
    </div>
  </div>

  <!--
    Note: we do not have include a <script> tag for wallet.js here if we're loading it dynamically via index.html.
    The wallet.js file should contain the necessary event listeners—including the one that checks for duplicate card numbers,
    formats inputs, and handles the random deposit (for Add Wallet) on the frontend.
  -->
</body>
</html>